<svg width="1600" height="900" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="frontendGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#e1f5fe;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#b3e5fc;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="backendGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#f3e5f5;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#e1bee7;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="databaseGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#e8f5e8;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#c8e6c9;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="primaryGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#FF4500;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#D84315;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="cardGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#ffffff;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#f8f9fa;stop-opacity:1" />
    </linearGradient>
    <marker id="arrowhead" markerWidth="12" markerHeight="9" refX="0" refY="4.5" orient="auto">
      <polygon points="0 0, 12 4.5, 0 9" fill="#FF4500" />
    </marker>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="2" stdDeviation="3" flood-color="#00000030"/>
    </filter>
  </defs>
  
  <!-- 用户层 -->
  <rect x="60" y="80" width="400" height="100" rx="15" fill="url(#frontendGrad)" stroke="#01579b" stroke-width="3" filter="url(#shadow)"/>
  <text x="260" y="110" text-anchor="middle" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#01579b">用户层</text>
  <text x="160" y="135" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="#01579b">Web用户</text>
  <text x="260" y="135" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="#01579b">管理员</text>
  <text x="360" y="135" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="#01579b">移动端</text>
  <text x="160" y="155" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#666">浏览器</text>
  <text x="260" y="155" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#666">后台</text>
  <text x="360" y="155" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#666">App</text>
  
  <!-- 前端应用层 -->
  <rect x="60" y="220" width="720" height="100" rx="15" fill="url(#frontendGrad)" stroke="#01579b" stroke-width="3" filter="url(#shadow)"/>
  <text x="420" y="250" text-anchor="middle" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#01579b">前端应用层</text>
  
  <rect x="90" y="265" width="150" height="45" rx="8" fill="url(#cardGrad)" stroke="#01579b" stroke-width="2"/>
  <text x="165" y="282" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#01579b">论坛前端</text>
  <text x="165" y="296" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">Next.js + TypeScript</text>
  
  <rect x="260" y="265" width="150" height="45" rx="8" fill="url(#cardGrad)" stroke="#01579b" stroke-width="2"/>
  <text x="335" y="282" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#01579b">管理后台</text>
  <text x="335" y="296" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">Vue 3 + Element Plus</text>
  
  <rect x="430" y="265" width="150" height="45" rx="8" fill="url(#cardGrad)" stroke="#01579b" stroke-width="2"/>
  <text x="505" y="282" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#01579b">CDN服务</text>
  <text x="505" y="296" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">Vercel + 静态资源</text>
  
  <rect x="600" y="265" width="150" height="45" rx="8" fill="url(#cardGrad)" stroke="#01579b" stroke-width="2"/>
  <text x="675" y="282" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#01579b">API网关</text>
  <text x="675" y="296" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">Spring Boot + JWT</text>
  
  <!-- 微服务层 -->
  <rect x="60" y="360" width="900" height="120" rx="15" fill="url(#backendGrad)" stroke="#4a148c" stroke-width="3" filter="url(#shadow)"/>
  <text x="510" y="390" text-anchor="middle" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#4a148c">微服务层</text>
  
  <rect x="90" y="405" width="150" height="65" rx="8" fill="url(#cardGrad)" stroke="#4a148c" stroke-width="2"/>
  <text x="165" y="425" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#4a148c">用户服务</text>
  <text x="165" y="440" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">认证 • 权限 • 短信</text>
  <text x="165" y="452" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">JWT • 邮件服务</text>
  <text x="165" y="464" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">用户管理</text>
  
  <rect x="260" y="405" width="150" height="65" rx="8" fill="url(#cardGrad)" stroke="#4a148c" stroke-width="2"/>
  <text x="335" y="425" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#4a148c">论坛服务</text>
  <text x="335" y="440" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">帖子 • 评论 • 分类</text>
  <text x="335" y="452" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">标签 • 点赞 • 收藏</text>
  <text x="335" y="464" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">热门排行</text>
  
  <rect x="430" y="405" width="150" height="65" rx="8" fill="url(#cardGrad)" stroke="#4a148c" stroke-width="2"/>
  <text x="505" y="425" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#4a148c">文件服务</text>
  <text x="505" y="440" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">上传 • 下载 • 存储</text>
  <text x="505" y="452" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">MinIO • 分享链接</text>
  <text x="505" y="464" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">权限控制</text>
  
  <rect x="600" y="405" width="150" height="65" rx="8" fill="url(#cardGrad)" stroke="#4a148c" stroke-width="2"/>
  <text x="675" y="425" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#4a148c">聊天服务</text>
  <text x="675" y="440" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">WebSocket • 实时</text>
  <text x="675" y="452" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">私聊 • 群聊 • 状态</text>
  <text x="675" y="464" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">消息推送</text>
  
  <rect x="770" y="405" width="150" height="65" rx="8" fill="url(#cardGrad)" stroke="#4a148c" stroke-width="2"/>
  <text x="845" y="425" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#4a148c">追踪服务</text>
  <text x="845" y="440" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">行为埋点 • 数据</text>
  <text x="845" y="452" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">事件收集 • 上报</text>
  <text x="845" y="464" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">用户画像</text>
  
  <!-- 数据存储层 -->
  <rect x="60" y="520" width="900" height="120" rx="15" fill="url(#databaseGrad)" stroke="#1b5e20" stroke-width="3" filter="url(#shadow)"/>
  <text x="510" y="550" text-anchor="middle" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#1b5e20">数据存储层</text>
  
  <rect x="90" y="565" width="140" height="65" rx="8" fill="url(#cardGrad)" stroke="#1b5e20" stroke-width="2"/>
  <text x="160" y="585" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#1b5e20">MySQL集群</text>
  <text x="160" y="600" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">主从分离 • 事务</text>
  <text x="160" y="612" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">用户数据 • 业务数据</text>
  <text x="160" y="624" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">关系型存储</text>
  
  <rect x="250" y="565" width="140" height="65" rx="8" fill="url(#cardGrad)" stroke="#1b5e20" stroke-width="2"/>
  <text x="320" y="585" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#1b5e20">Redis集群</text>
  <text x="320" y="600" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">缓存加速 • 会话</text>
  <text x="320" y="612" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">热点数据 • 分布式锁</text>
  <text x="320" y="624" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">内存存储</text>
  
  <rect x="410" y="565" width="140" height="65" rx="8" fill="url(#cardGrad)" stroke="#1b5e20" stroke-width="2"/>
  <text x="480" y="585" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#1b5e20">MinIO集群</text>
  <text x="480" y="600" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">对象存储 • 文件</text>
  <text x="480" y="612" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">图片视频 • 分片上传</text>
  <text x="480" y="624" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">分布式存储</text>
  
  <rect x="570" y="565" width="140" height="65" rx="8" fill="url(#cardGrad)" stroke="#1b5e20" stroke-width="2"/>
  <text x="640" y="585" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#1b5e20">Kafka集群</text>
  <text x="640" y="600" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">消息队列 • 流处理</text>
  <text x="640" y="612" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">事件驱动 • 异步</text>
  <text x="640" y="624" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">数据管道</text>
  
  <rect x="730" y="565" width="190" height="65" rx="8" fill="#fff3e0" stroke="#e65100" stroke-width="2"/>
  <text x="825" y="585" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#e65100">大数据平台</text>
  <text x="825" y="600" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">MaxCompute + DataWorks</text>
  <text x="825" y="612" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">ETL • 机器学习 • 推荐</text>
  <text x="825" y="624" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">实时分析 • 数据挖掘</text>
  
  <!-- 基础设施 -->
  <rect x="60" y="680" width="900" height="80" rx="15" fill="#f5f5f5" stroke="#666" stroke-width="3" filter="url(#shadow)"/>
  <text x="510" y="710" text-anchor="middle" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="#666">基础设施与外部服务</text>
  
  <rect x="100" y="725" width="150" height="30" rx="5" fill="white" stroke="#666" stroke-width="2"/>
  <text x="175" y="743" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#666">Zookeeper - 服务发现</text>
  
  <rect x="270" y="725" width="150" height="30" rx="5" fill="white" stroke="#666" stroke-width="2"/>
  <text x="345" y="743" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#666">监控告警 - 日志收集</text>
  
  <rect x="440" y="725" width="150" height="30" rx="5" fill="white" stroke="#666" stroke-width="2"/>
  <text x="515" y="743" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#666">阿里云SMS - 短信服务</text>
  
  <rect x="610" y="725" width="150" height="30" rx="5" fill="white" stroke="#666" stroke-width="2"/>
  <text x="685" y="743" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#666">SMTP - 邮件服务</text>
  
  <rect x="780" y="725" width="120" height="30" rx="5" fill="white" stroke="#666" stroke-width="2"/>
  <text x="840" y="743" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#666">OSS备份</text>
  
  <!-- 右侧说明区域 - 重新设计的卡片式布局 -->
  <rect x="1020" y="80" width="520" height="680" rx="20" fill="white" stroke="#e0e0e0" stroke-width="2" filter="url(#shadow)"/>
  
  <!-- 标题区域 -->
  <rect x="1040" y="100" width="480" height="60" rx="15" fill="url(#primaryGrad)"/>
  <text x="1280" y="125" text-anchor="middle" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="white">技术栈与特性</text>
  <text x="1280" y="145" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="white">云社 · OpenShare 架构详解</text>
  
  <!-- 前端技术栈卡片 -->
  <rect x="1040" y="180" width="220" height="140" rx="12" fill="url(#frontendGrad)" stroke="#01579b" stroke-width="2"/>
  <text x="1150" y="205" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#01579b">🎨 前端技术栈</text>
  <text x="1055" y="225" font-family="Arial, sans-serif" font-size="12" fill="#333">• Next.js 14 + TypeScript</text>
  <text x="1055" y="245" font-family="Arial, sans-serif" font-size="12" fill="#333">• Tailwind CSS + Element Plus</text>
  <text x="1055" y="265" font-family="Arial, sans-serif" font-size="12" fill="#333">• Zustand状态管理 + SSR优化</text>
  <text x="1055" y="285" font-family="Arial, sans-serif" font-size="12" fill="#333">• Vue 3管理后台 + Pinia</text>
  <text x="1055" y="305" font-family="Arial, sans-serif" font-size="12" fill="#333">• 响应式设计 + PWA支持</text>
  
  <!-- 后端技术栈卡片 -->
  <rect x="1280" y="180" width="240" height="140" rx="12" fill="url(#backendGrad)" stroke="#4a148c" stroke-width="2"/>
  <text x="1400" y="205" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#4a148c">⚙️ 后端技术栈</text>
  <text x="1295" y="225" font-family="Arial, sans-serif" font-size="12" fill="#333">• Spring Boot 2.7 + MyBatis</text>
  <text x="1295" y="245" font-family="Arial, sans-serif" font-size="12" fill="#333">• JWT认证 + WebSocket实时通信</text>
  <text x="1295" y="265" font-family="Arial, sans-serif" font-size="12" fill="#333">• 微服务架构 + API网关</text>
  <text x="1295" y="285" font-family="Arial, sans-serif" font-size="12" fill="#333">• 分布式事务 + 服务发现</text>
  <text x="1295" y="305" font-family="Arial, sans-serif" font-size="12" fill="#333">• Docker容器化部署</text>
  
  <!-- 数据存储卡片 -->
  <rect x="1040" y="340" width="220" height="140" rx="12" fill="url(#databaseGrad)" stroke="#1b5e20" stroke-width="2"/>
  <text x="1150" y="365" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#1b5e20">💾 数据存储</text>
  <text x="1055" y="385" font-family="Arial, sans-serif" font-size="12" fill="#333">• MySQL主从集群 + 读写分离</text>
  <text x="1055" y="405" font-family="Arial, sans-serif" font-size="12" fill="#333">• Redis集群 + 分布式缓存</text>
  <text x="1055" y="425" font-family="Arial, sans-serif" font-size="12" fill="#333">• MinIO对象存储 + 文件服务</text>
  <text x="1055" y="445" font-family="Arial, sans-serif" font-size="12" fill="#333">• Kafka消息队列 + 事件驱动</text>
  <text x="1055" y="465" font-family="Arial, sans-serif" font-size="12" fill="#333">• 数据备份与容灾</text>
  
  <!-- 大数据与AI卡片 -->
  <rect x="1280" y="340" width="240" height="140" rx="12" fill="#fff3e0" stroke="#e65100" stroke-width="2"/>
  <text x="1400" y="365" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#e65100">📊 大数据与AI</text>
  <text x="1295" y="385" font-family="Arial, sans-serif" font-size="12" fill="#333">• 阿里云MaxCompute计算平台</text>
  <text x="1295" y="405" font-family="Arial, sans-serif" font-size="12" fill="#333">• DataWorks数据开发工作台</text>
  <text x="1295" y="425" font-family="Arial, sans-serif" font-size="12" fill="#333">• 实时ETL + 离线数据处理</text>
  <text x="1295" y="445" font-family="Arial, sans-serif" font-size="12" fill="#333">• 机器学习 + 智能推荐算法</text>
  <text x="1295" y="465" font-family="Arial, sans-serif" font-size="12" fill="#333">• 用户行为分析与预测</text>
  
  <!-- 核心特性卡片 -->
  <rect x="1040" y="500" width="480" height="100" rx="12" fill="linear-gradient(135deg, #ff6b35, #f9ca24)" stroke="#FF4500" stroke-width="2"/>
  <text x="1280" y="525" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white">✨ 核心特性</text>
  <text x="1160" y="545" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">• 高并发论坛系统 + 实时聊天</text>
  <text x="1400" y="545" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">• 智能文件管理 + 云盘分享</text>
  <text x="1160" y="565" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">• 用户行为分析 + 个性化推荐</text>
  <text x="1400" y="565" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">• 分布式架构 + 弹性扩容</text>
  <text x="1160" y="585" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">• 企业级安全 + 权限管控</text>
  <text x="1400" y="585" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">• 多终端适配 + 国际化支持</text>
  
  <!-- 性能指标卡片 -->
  <rect x="1040" y="620" width="220" height="120" rx="12" fill="#e8f5e8" stroke="#4caf50" stroke-width="2"/>
  <text x="1150" y="645" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#2e7d32">📈 性能指标</text>
  <text x="1055" y="665" font-family="Arial, sans-serif" font-size="12" fill="#333">• 支持万级并发用户</text>
  <text x="1055" y="685" font-family="Arial, sans-serif" font-size="12" fill="#333">• 毫秒级响应时间</text>
  <text x="1055" y="705" font-family="Arial, sans-serif" font-size="12" fill="#333">• 99.9%高可用性</text>
  <text x="1055" y="725" font-family="Arial, sans-serif" font-size="12" fill="#333">• PB级数据存储能力</text>
  
  <!-- 数据流向卡片 -->
  <rect x="1280" y="620" width="240" height="120" rx="12" fill="#f3e5f5" stroke="#9c27b0" stroke-width="2"/>
  <text x="1400" y="645" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#7b1fa2">🔄 数据流向</text>
  <text x="1295" y="665" font-family="Arial, sans-serif" font-size="11" fill="#333">用户请求 → CDN分发</text>
  <text x="1295" y="685" font-family="Arial, sans-serif" font-size="11" fill="#333">→ API网关 → 微服务集群</text>
  <text x="1295" y="705" font-family="Arial, sans-serif" font-size="11" fill="#333">→ 数据库集群 → 缓存层</text>
  <text x="1295" y="725" font-family="Arial, sans-serif" font-size="11" fill="#333">→ 大数据分析 → 结果反馈</text>
  
  <!-- 底部说明 -->
  <text x="800" y="820" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#333">
    云社 · OpenShare - 基于微服务的现代化社区平台架构图
  </text>
  
  <text x="800" y="850" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="#666">
    采用前后端分离 + 微服务架构，支持高并发、高可用、可扩展的企业级应用
  </text>
  
  <!-- 连接线 - 放在最后确保显示在最上层 -->
  <g id="arrows" style="pointer-events: none;">
    <!-- 用户层到前端层 -->
    <line x1="260" y1="180" x2="260" y2="220" stroke="#FF4500" stroke-width="5" marker-end="url(#arrowhead)" opacity="0.9"/>
    
    <!-- 前端层到微服务层 -->
    <line x1="420" y1="320" x2="510" y2="360" stroke="#FF4500" stroke-width="5" marker-end="url(#arrowhead)" opacity="0.9"/>
    
    <!-- 微服务层到数据存储层 -->
    <line x1="510" y1="480" x2="510" y2="520" stroke="#FF4500" stroke-width="5" marker-end="url(#arrowhead)" opacity="0.9"/>
    
    <!-- 数据存储层到基础设施层 -->
    <line x1="510" y1="640" x2="510" y2="680" stroke="#FF4500" stroke-width="5" marker-end="url(#arrowhead)" opacity="0.9"/>
    
    <!-- Kafka到大数据平台的数据流 -->
    <line x1="710" y1="597" x2="730" y2="597" stroke="#e65100" stroke-width="4" marker-end="url(#arrowhead)" opacity="0.8"/>
  </g>
</svg> 
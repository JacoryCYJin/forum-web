<svg width="1200" height="900" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="frontendGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#e1f5fe;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#b3e5fc;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="backendGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#f3e5f5;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#e1bee7;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="databaseGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#e8f5e8;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#c8e6c9;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="primaryGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#FF4500;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#D84315;stop-opacity:1" />
    </linearGradient>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="0" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#FF4500" />
    </marker>
  </defs>
  
  <!-- 标题 -->
  <!-- <text x="600" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="24" font-weight="bold" fill="url(#primaryGrad)">
    云社 · OpenShare 系统架构图
  </text> -->
  
  <!-- 用户层 -->
  <rect x="50" y="60" width="300" height="80" rx="10" fill="url(#frontendGrad)" stroke="#01579b" stroke-width="2"/>
  <text x="200" y="85" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#01579b">用户层</text>
  <text x="120" y="105" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#01579b">Web用户</text>
  <text x="200" y="105" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#01579b">管理员</text>
  <text x="280" y="105" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#01579b">移动端</text>
  <text x="120" y="125" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">浏览器</text>
  <text x="200" y="125" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">后台</text>
  <text x="280" y="125" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">App</text>
  
  <!-- 前端应用层 -->
  <rect x="50" y="170" width="550" height="80" rx="10" fill="url(#frontendGrad)" stroke="#01579b" stroke-width="2"/>
  <text x="325" y="195" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#01579b">前端应用层</text>
  
  <rect x="70" y="205" width="120" height="35" rx="5" fill="white" stroke="#01579b" stroke-width="1"/>
  <text x="130" y="220" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#01579b">论坛前端</text>
  <text x="130" y="232" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#666">Next.js + TypeScript</text>
  
  <rect x="205" y="205" width="120" height="35" rx="5" fill="white" stroke="#01579b" stroke-width="1"/>
  <text x="265" y="220" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#01579b">管理后台</text>
  <text x="265" y="232" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#666">Vue 3 + Element Plus</text>
  
  <rect x="340" y="205" width="120" height="35" rx="5" fill="white" stroke="#01579b" stroke-width="1"/>
  <text x="400" y="220" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#01579b">CDN服务</text>
  <text x="400" y="232" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#666">Vercel + 静态资源</text>
  
  <rect x="475" y="205" width="115" height="35" rx="5" fill="white" stroke="#01579b" stroke-width="1"/>
  <text x="532" y="220" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#01579b">API网关</text>
  <text x="532" y="232" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#666">Spring Boot + JWT</text>
  
  <!-- 微服务层 -->
  <rect x="50" y="280" width="700" height="100" rx="10" fill="url(#backendGrad)" stroke="#4a148c" stroke-width="2"/>
  <text x="400" y="305" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#4a148c">微服务层</text>
  
  <rect x="70" y="315" width="120" height="55" rx="5" fill="white" stroke="#4a148c" stroke-width="1"/>
  <text x="130" y="330" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#4a148c">用户服务</text>
  <text x="130" y="342" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#666">认证 • 权限 • 短信</text>
  <text x="130" y="352" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#666">JWT • 邮件服务</text>
  <text x="130" y="362" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#666">用户管理</text>
  
  <rect x="205" y="315" width="120" height="55" rx="5" fill="white" stroke="#4a148c" stroke-width="1"/>
  <text x="265" y="330" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#4a148c">论坛服务</text>
  <text x="265" y="342" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#666">帖子 • 评论 • 分类</text>
  <text x="265" y="352" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#666">标签 • 点赞 • 收藏</text>
  <text x="265" y="362" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#666">热门排行</text>
  
  <rect x="340" y="315" width="120" height="55" rx="5" fill="white" stroke="#4a148c" stroke-width="1"/>
  <text x="400" y="330" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#4a148c">文件服务</text>
  <text x="400" y="342" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#666">上传 • 下载 • 存储</text>
  <text x="400" y="352" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#666">MinIO • 分享链接</text>
  <text x="400" y="362" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#666">权限控制</text>
  
  <rect x="475" y="315" width="120" height="55" rx="5" fill="white" stroke="#4a148c" stroke-width="1"/>
  <text x="535" y="330" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#4a148c">聊天服务</text>
  <text x="535" y="342" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#666">WebSocket • 实时</text>
  <text x="535" y="352" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#666">私聊 • 群聊 • 状态</text>
  <text x="535" y="362" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#666">消息推送</text>
  
  <rect x="610" y="315" width="120" height="55" rx="5" fill="white" stroke="#4a148c" stroke-width="1"/>
  <text x="670" y="330" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#4a148c">追踪服务</text>
  <text x="670" y="342" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#666">行为埋点 • 数据</text>
  <text x="670" y="352" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#666">事件收集 • 上报</text>
  <text x="670" y="362" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#666">用户画像</text>
  
  <!-- 数据存储层 -->
  <rect x="50" y="410" width="700" height="100" rx="10" fill="url(#databaseGrad)" stroke="#1b5e20" stroke-width="2"/>
  <text x="400" y="435" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#1b5e20">数据存储层</text>
  
  <rect x="80" y="445" width="110" height="55" rx="5" fill="white" stroke="#1b5e20" stroke-width="1"/>
  <text x="135" y="460" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#1b5e20">MySQL集群</text>
  <text x="135" y="472" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#666">主从分离 • 事务</text>
  <text x="135" y="482" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#666">用户数据 • 业务数据</text>
  <text x="135" y="492" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#666">关系型存储</text>
  
  <rect x="205" y="445" width="110" height="55" rx="5" fill="white" stroke="#1b5e20" stroke-width="1"/>
  <text x="260" y="460" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#1b5e20">Redis集群</text>
  <text x="260" y="472" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#666">缓存加速 • 会话</text>
  <text x="260" y="482" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#666">热点数据 • 分布式锁</text>
  <text x="260" y="492" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#666">内存存储</text>
  
  <rect x="330" y="445" width="110" height="55" rx="5" fill="white" stroke="#1b5e20" stroke-width="1"/>
  <text x="385" y="460" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#1b5e20">MinIO集群</text>
  <text x="385" y="472" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#666">对象存储 • 文件</text>
  <text x="385" y="482" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#666">图片视频 • 分片上传</text>
  <text x="385" y="492" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#666">分布式存储</text>
  
  <rect x="455" y="445" width="110" height="55" rx="5" fill="white" stroke="#1b5e20" stroke-width="1"/>
  <text x="510" y="460" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#1b5e20">Kafka集群</text>
  <text x="510" y="472" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#666">消息队列 • 流处理</text>
  <text x="510" y="482" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#666">事件驱动 • 异步</text>
  <text x="510" y="492" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#666">数据管道</text>
  
  <rect x="580" y="445" width="150" height="55" rx="5" fill="#fff3e0" stroke="#e65100" stroke-width="1"/>
  <text x="655" y="460" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#e65100">大数据平台</text>
  <text x="655" y="472" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#666">MaxCompute + DataWorks</text>
  <text x="655" y="482" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#666">ETL • 机器学习 • 推荐</text>
  <text x="655" y="492" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#666">实时分析 • 数据挖掘</text>
  
  <!-- 基础设施 -->
  <rect x="50" y="540" width="700" height="70" rx="10" fill="#f5f5f5" stroke="#666" stroke-width="2"/>
  <text x="400" y="565" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#666">基础设施与外部服务</text>
  
  <rect x="80" y="575" width="120" height="25" rx="3" fill="white" stroke="#666" stroke-width="1"/>
  <text x="140" y="590" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">Zookeeper - 服务发现</text>
  
  <rect x="220" y="575" width="120" height="25" rx="3" fill="white" stroke="#666" stroke-width="1"/>
  <text x="280" y="590" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">监控告警 - 日志收集</text>
  
  <rect x="360" y="575" width="120" height="25" rx="3" fill="white" stroke="#666" stroke-width="1"/>
  <text x="420" y="590" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">阿里云SMS - 短信服务</text>
  
  <rect x="500" y="575" width="120" height="25" rx="3" fill="white" stroke="#666" stroke-width="1"/>
  <text x="560" y="590" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">SMTP - 邮件服务</text>
  
  <rect x="640" y="575" width="80" height="25" rx="3" fill="white" stroke="#666" stroke-width="1"/>
  <text x="680" y="590" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#666">OSS备份</text>
  
  <!-- 右侧说明区域 -->
  <rect x="800" y="60" width="350" height="500" rx="10" fill="white" stroke="none"/>
  <text x="975" y="85" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#333">技术栈与特性</text>
  
  <!-- 前端技术栈 -->
  <text x="820" y="110" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#01579b">🎨 前端技术栈</text>
  <text x="820" y="125" font-family="Arial, sans-serif" font-size="10" fill="#666">• Next.js 14 + TypeScript</text>
  <text x="820" y="135" font-family="Arial, sans-serif" font-size="10" fill="#666">• Tailwind CSS + Element Plus</text>
  <text x="820" y="145" font-family="Arial, sans-serif" font-size="10" fill="#666">• Zustand状态管理 + SSR优化</text>
  <text x="820" y="155" font-family="Arial, sans-serif" font-size="10" fill="#666">• Vue 3管理后台 + Pinia</text>
  
  <!-- 后端技术栈 -->
  <text x="820" y="180" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#4a148c">⚙️ 后端技术栈</text>
  <text x="820" y="195" font-family="Arial, sans-serif" font-size="10" fill="#666">• Spring Boot 2.7 + MyBatis</text>
  <text x="820" y="205" font-family="Arial, sans-serif" font-size="10" fill="#666">• JWT认证 + WebSocket实时通信</text>
  <text x="820" y="215" font-family="Arial, sans-serif" font-size="10" fill="#666">• 微服务架构 + API网关</text>
  <text x="820" y="225" font-family="Arial, sans-serif" font-size="10" fill="#666">• 分布式事务 + 服务发现</text>
  
  <!-- 数据存储 -->
  <text x="820" y="250" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#1b5e20">💾 数据存储</text>
  <text x="820" y="265" font-family="Arial, sans-serif" font-size="10" fill="#666">• MySQL主从集群 + 读写分离</text>
  <text x="820" y="275" font-family="Arial, sans-serif" font-size="10" fill="#666">• Redis集群 + 分布式缓存</text>
  <text x="820" y="285" font-family="Arial, sans-serif" font-size="10" fill="#666">• MinIO对象存储 + 文件服务</text>
  <text x="820" y="295" font-family="Arial, sans-serif" font-size="10" fill="#666">• Kafka消息队列 + 事件驱动</text>
  
  <!-- 大数据与AI -->
  <text x="820" y="320" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#e65100">📊 大数据与AI</text>
  <text x="820" y="335" font-family="Arial, sans-serif" font-size="10" fill="#666">• 阿里云MaxCompute计算平台</text>
  <text x="820" y="345" font-family="Arial, sans-serif" font-size="10" fill="#666">• DataWorks数据开发工作台</text>
  <text x="820" y="355" font-family="Arial, sans-serif" font-size="10" fill="#666">• 实时ETL + 离线数据处理</text>
  <text x="820" y="365" font-family="Arial, sans-serif" font-size="10" fill="#666">• 机器学习 + 智能推荐算法</text>
  
  <!-- 核心特性 -->
  <text x="820" y="390" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#FF4500">✨ 核心特性</text>
  <text x="820" y="405" font-family="Arial, sans-serif" font-size="10" fill="#666">• 高并发论坛系统 + 实时聊天</text>
  <text x="820" y="415" font-family="Arial, sans-serif" font-size="10" fill="#666">• 智能文件管理 + 云盘分享</text>
  <text x="820" y="425" font-family="Arial, sans-serif" font-size="10" fill="#666">• 用户行为分析 + 个性化推荐</text>
  <text x="820" y="435" font-family="Arial, sans-serif" font-size="10" fill="#666">• 分布式架构 + 弹性扩容</text>
  <text x="820" y="445" font-family="Arial, sans-serif" font-size="10" fill="#666">• 企业级安全 + 权限管控</text>
  
  <!-- 性能指标 -->
  <text x="820" y="470" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#333">📈 性能指标</text>
  <text x="820" y="485" font-family="Arial, sans-serif" font-size="10" fill="#666">• 支持万级并发用户</text>
  <text x="820" y="495" font-family="Arial, sans-serif" font-size="10" fill="#666">• 毫秒级响应时间</text>
  <text x="820" y="505" font-family="Arial, sans-serif" font-size="10" fill="#666">• 99.9%高可用性</text>
  <text x="820" y="515" font-family="Arial, sans-serif" font-size="10" fill="#666">• PB级数据存储能力</text>
  
  <!-- 数据流说明 -->
  <text x="820" y="540" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#FF4500">🔄 数据流向</text>
  <text x="820" y="555" font-family="Arial, sans-serif" font-size="10" fill="#666">用户请求 → CDN → API网关 → 微服务 → 数据库</text>
  
  <!-- 底部说明 -->
  <text x="600" y="660" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#888">
    云社 · OpenShare - 基于微服务的现代化社区平台架构图
  </text>
  
  <text x="600" y="680" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#aaa">
    采用前后端分离 + 微服务架构，支持高并发、高可用、可扩展的企业级应用
  </text>
  
  <!-- 连接线 - 放在最后确保显示在最上层 -->
  <g id="arrows" style="pointer-events: none;">
    <!-- 用户层到前端层 -->
    <line x1="200" y1="140" x2="200" y2="170" stroke="#FF4500" stroke-width="4" marker-end="url(#arrowhead)" opacity="0.9"/>
    
    <!-- 前端层到微服务层 -->
    <line x1="325" y1="250" x2="400" y2="280" stroke="#FF4500" stroke-width="4" marker-end="url(#arrowhead)" opacity="0.9"/>
    
    <!-- 微服务层到数据存储层 -->
    <line x1="400" y1="380" x2="400" y2="410" stroke="#FF4500" stroke-width="4" marker-end="url(#arrowhead)" opacity="0.9"/>
    
    <!-- 数据存储层到基础设施层 -->
    <line x1="400" y1="510" x2="400" y2="540" stroke="#FF4500" stroke-width="4" marker-end="url(#arrowhead)" opacity="0.9"/>
    
    <!-- Kafka到大数据平台的数据流 -->
    <line x1="565" y1="472" x2="580" y2="472" stroke="#e65100" stroke-width="3" marker-end="url(#arrowhead)" opacity="0.8"/>
  </g>
</svg> 